<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SmalltalkIntroSlideshow</title>

    <!-- browser setup -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">

    <!-- page meta information -->
    <meta name="description" content="Smalltalk is a fully object-oriented language and environment in which everything is an object. The system is live, which means that you are always developing a running system. Programming means making small incremental changes, by adding classes or methods to the live system.">
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="gtoolkit book">
    <meta property="og:title" content="SmalltalkIntroSlideshow">
    <meta property="og:url" content="https://book.gtoolkit.com/index.html">
    <meta property="og:description" content="Smalltalk is a fully object-oriented language and environment in which everything is an object. The system is live, which means that you are always developing a running system. Programming means making small incremental changes, by adding classes or methods to the live system.">

    <!-- CSS styles -->
    <link rel="stylesheet" href="../assets/vendor/awesomefonts/css/all.css">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/v1/src/css/lepiter-common.css">
    <link rel="stylesheet" href="../assets/v1/src/css/lepiter-snippets.css">
    <link rel="stylesheet" href="../assets/v1/src/css/vs.css">
</head>
<body>

    <div class="content">
        <div class="container min-height py-5 le-main-container">
            <main>
                <h1 class="le-main-title">SmalltalkIntroSlideshow</h1>

                <!-- page content start -->

                <div class="snippet textual-snippet text-snippet paragraphWidth">  <h2> A bit of Smalltalk  </h2></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Smalltalk is a fully object-oriented language and environment in which everything is an object. The system is live, which means that you are always developing a running system. Programming means making small incremental changes, by adding classes or methods to the live system.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Today we'll see how this impacts the sofware development process. As a running example, we'll take the Ludo game that the students developed in P2, and as a platform, we'll use GT, the Glamorous Toolkit, a moldable development environment built on top of Pharo Smalltalk.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>    <i>NB:    </i> This slideshow is available in the standard download of GT from <a href="https://gtoolkit.com/">gtoolkit.com</a> in the class <code class="annotation annotation-label annotation-label-class annotation-label-code expandable-annotation-label annotation-sibling-is-collapsed">SmalltalkIntroSlideshow</code>    <span class="textual-snippet code-snippet pharo-class-definition expandable-annotation-view collapsed-annotation-view"><code class="">PrioritySlideshow subclass: #SmalltalkIntroSlideshow	instanceVariableNames: ''	classVariableNames: ''	package: 'GToolkit-Demo-Slideshows-Slideshows'</code>    </span>.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1000.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Appetizer  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>As an appetizer, here we see an instance of the Ludo game running in GT. We can play the game by clicking on the die and moving the pieces, but how is the game composed of objects? How can we understand how it works?  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1001.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h2> Outline  </h2></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>First we'll have a quick look at what Smalltalk is, and how it differs from other object-oriented programming languages and systems.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Next we'll have a quick look at the basics. Smalltalk is a tiny language, and you can learn the syntax in a few minutes, but it does take a bit of getting used to.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Then we'll proceed with the development of the Ludo game. The key idea is to make the domain concepts visible as we program, so instead of just seeing source code, we see a live system that we can explore.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Testing is similar to classical Xunit testing, with the small difference that every test returns an example object.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>This turns out to be very powerful, not just for building new tests, but also for exploring the system and building live documentation.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>We'll wrap up with some take home messages.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1002.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h2> Smalltalk's origins  </h2></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>In the late 60s, Alan Kay predicted that in the foreseeable future handheld multimedia computers would become affordable. He called this a “Dynabook”. (The photo shows a mockup, not a real computer.)  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>He reasoned that such systems would need to be based on objects from the ground up, so he founded a lab at the Xerox Palo Alto Research Center (PARC) to develop such a fully object-oriented system, including both software and hardware. They developed the first graphical workstations with a windowing system and mouse.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1003.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Glamorous Toolkit  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>GT is a moldable development environment, in which the development tools can be easily extended with application-specific behavior. We'll see examples of this with the Ludo game implementation.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>GT is built on top of Pharo, a modern, open-source Smalltalk system.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1004.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Smalltalk is a live programming system  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>There are four parts to a running Smalltalk system.(1) The     <i>image    </i> is a snapshot of all the live objects in the system. When you start Smalltalk, all the objects are loaded from the saved snapshot into the live image.(2) The     <i>changes    </i> file logs all changes to the source code, namely classes and methods. This means that your source changes cannot be lost, and can be replayed in case of a system crash.(3) The     <i>virtual machine    </i> executes the bytecode of compiled methods.(4) The     <i>sources    </i> store the source code of the system itself, so you can access, and potentially change anything.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1005.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h2> Two rules  </h2></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>To really understand Smalltalk, there are two important rules to remember.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>First, pretty much everything in the system is an object. There is no distinction between objects and primitive data types. Also everything in the environment is an object. This means that you can work with the system in a very consistent and uniform way.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Second, everything happens by sending messages to objects. If you want an object to do something, you send it a message. The object then sees whether it has a     <i>method    </i> for handling that message, possibly inherited from a superclass.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1006.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h2> Numbers, strings, booleans and blocks are objects  </h2></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Here we see a Notebook page containing both text and code snippets.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>We can evaluate and inspect the results of the code snippets.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Numbers are objects, not just primitive data types. We see that the number <code>1</code> is an instance of the <code>SmallInteger</code> class. Strings are delimited by single quotation marks. If we inspect a string, we see it is made of of characters, such as <code>$h</code>. The dollar sign preceeds a printable character.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Even booleans are objects. <code>true</code> is an instance of the class <code>True</code>, which is a subclass of <code>Boolean</code>.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Blocks, or anonymous functions, are delimited by square brackets. This one takes no arguments, so we can evaluate it by sending it the message <code>value</code>.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1007.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>- Inspect the snippets.- Change the last snippet to send <code>value</code> to the block.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Classes are objects  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Classes are objects too. A class is a global name that starts with an upper case letter, such as <code>SmallInteger</code>. We can browse the source code of a class by opening the code bubble, by using the context menu, or using a keyboard shortcut.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>We can send messages to classes, such as <code>SmallInteger maxVal</code>. What do you suppose will be the result of sending <code>+ 1</code> to this maximum value?  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1008.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>- Inspect the snippet- Send <code>self + 1</code> in the integer's playground- Note the result type- Send <code>self - 1</code> in the playground  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Methods are objects  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>A method is also an object. You can retrieve it by sending the message <code>>></code> to the class with the method's selector as an argument.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>If you inspect a method, you can see not just its source code, but also its bytecode and even the abstract syntax tree.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1009.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>- Inspect the snippets- Explore the views of a method  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Everything is an object  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>A method is also an object. You can retrieve it by sending the message <code>>></code> to the class with the method's selector as an argument.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>If you inspect a method, you can see not just its source code, but also its bytecode and even the abstract syntax tree.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1010.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h2> Everything happens by sending messages  </h2></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Smalltalk introduced the metaphor of “methods” — you do not “invoke a method” (which makes no sense linguistically), but rather you     <i>“send a message to an object”    </i>, and it determines whether it     <i>“understands the message”    </i> and has a “method” for responding to it.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>The expression <code>3+4</code> is a     <i>message    </i> “<code>+4</code>” with the     <i>selector    </i> “<code>+</code>” and argument <code>4</code> sent to the     <i>receiver    </i> <code>3</code>:  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>The receiver <code>3</code> has a     <i>method    </i> (a chunk of code) to compute the result.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1011.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>- Inspect the result- Open the code bubble for the <code>+</code> method  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> All computations are message sends  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>There are no built-in operators. These are all just message sends:  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Sending <code>/</code> to a number will invoke a factory method to create an instance of <code class="annotation annotation-label annotation-label-class annotation-label-code expandable-annotation-label annotation-sibling-is-collapsed">Fraction</code>    <span class="textual-snippet code-snippet pharo-class-definition expandable-annotation-view collapsed-annotation-view"><code class="">Number subclass: #Fraction	instanceVariableNames: 'numerator denominator'	classVariableNames: ''	package: 'Kernel-Numbers'</code>    </span>.   </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>As in other OO languages, <code>=</code> tests object equality while <code>==</code> tests for identity. (If a class does not implement a method for <code>=</code>, then by default they are the same.)  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>You can evaluate a block by sending it a <code>value</code> message.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1012.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Object creation is a message send  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>You can send the message <code>new</code> to create a new instance of a class.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Many classes have constructors that take arguments to initialize instances.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1013.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Changes to the system are message sends  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>You create a class by sending a message to its superclass.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>To create a method, you send a message to the class.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>You can also ask Smalltalk to remove a class from the system.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1014.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> You can change (almost) anything!  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Smalltalk is designed so that you can change anything in the system. The consequence is that you are also allowed to shoot yourself in the foot.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Luckily Smalltalk prevents you from removing the class <code>Object</code>, but you can still shoot yourself in the foot in many other ways!  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1015.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h2> Three kinds of messages  </h2></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>There are three kinds of messages you can send to a Smalltalk object, each taking a different number of arguments.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>The     <i>receiver    </i> is the object to which the message is sent.The     <i>sender    </i> is the method sending the message (if the code is in a method somewhere).The     <i>selector    </i> is the name of the message (without the arguments).  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>    <i>Unary    </i> messages have no argument.<code>5 factorial</code> is a unary message with selector <code>#factorial</code> sent to the receiver <code>5</code>.<code>Float pi</code> is a unary message <code>#pi</code> sent to the class <code>Float</code>.You can also send unary messages to classes, as they are objects too.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>    <i>Binary    </i> messages are made up of operator symbols like <code>+</code> <code>-</code> <code>*</code> <code>/</code> <code>></code> <code>&lt;</code> <code>=</code> and others.They take exactly one argument.<code>3 + 4</code> is the message <code>#+</code> send to the receiver <code>3</code> with argument <code>4</code>.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>    <i>Keyword    </i> messages take one or more arguments.Each argument is preceded by a keyword, which ends with a colon (<code>:</code>).Here the receiver is <code>3</code>, the message is <code>raisedTo: 10 modulo: 5</code>, and the selector is <code>#raisedTo:modulo:</code>The Ludo game also accepts various keyword messages.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1016.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Precedence  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>In expressions that mix different kinds of message sends, first unary, then binary, and finally keyword messages are evaluated.Otherwise evaluation is strictly from left to right.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>The left-to-right rule applies also to binary messages, so  <code>1+2*3</code> is <code>9</code> and not <code>7</code>.In practice this is rarely an issue. Just use parentheses to get the order you want.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1017.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h2> Syntax — Numbers  </h2></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Smalltalk has a tiny syntax, but there are some interesting differences with other languages.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>In addition to the usual integer and floating point numbers, there are also radix numbers, for example this is a binary representation: <code>2r101010</code>  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>And this is hex: <code>16r2A</code>  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1018.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Syntax — Strings and Symbols  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Printable characters start with a <code>$</code>.Strings use     <i>single quotes    </i>.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>    <i>NB:    </i> Double quotes enclose comments, not strings.A comment is not an object, but you     <i>can    </i> ask a class for its comment and get a string back ...  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>A     <i>symbol    </i> starts with a hash (<code>#</code>). It is like a string, but has a unique instance.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>A symbol is not identical to a string with the same characters, but they are considered equal as values.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1019.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Syntax — constants  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>There are only 6 keywords in Smalltalk, and three of them are the constants <code>nil</code>, <code>true</code> and <code>false</code>.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1020.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Syntax — arrays  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>A literal array is a compile-time sequence of literal values.It is specified by a hash followed by possibly nested literal values in parentheses.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>A dynamic array is specified by curly braces around a series of expressions separated by periods.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>You can embed literal arrays within dynamic arrays, but not the other way around.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1021.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Syntax — Blocks  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>A     <i>block    </i> is an anonymous function, that can take arguments.You evaluate a block by sending it the unary message <code>value</code>, or a keyword message <code>value:</code> for as many arguments as you need.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Blocks are first class values, so you can pass them around like any other object.In this example we send a block that increments its argument in as an argument to another block.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1022.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Syntax — Pseudo variables  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Two further keywords are the pseudo variables <code>self</code> and <code>super</code>.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Both refer to the receiver of a message, but with different method lookup, as in other object-oriented languages.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1023.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h2> Method syntax  </h2></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Note the special syntax for variable declarations (|...|), statement separators (period) and returns (^).  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Methods start with a declaration of the message selector and arguments.Temporaries must be declared. Statements are separated by periods.   </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>The caret (^) is special syntax for returning a result.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1024.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h2> Exploring a live system  </h2></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Let's inspect a running instance of a Ludo game.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Views  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Have a look at the various views (tabs).  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>The <code>Raw</code> view is the one most IDEs will show you.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>The others are specialized views.The Board, Players and Squares views are custom-made for the Ludo game.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Note how you can more easily navigate through the game entites (Players, Tokens, Squares) using the dedicated views than with the Raw view.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>You can OPT-click on the tabs to see the code creating each view.Most of these are quite simple. The Board view is the most complex one.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Exploring examples  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>From the Meta tab you can explore not only the class definition and the source code of methods, but also find references. This leads us to the classes that define test examples.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Let's explore <code class="annotation annotation-label annotation-label-class annotation-label-code expandable-annotation-label annotation-sibling-is-collapsed">GtLudoGameExamples</code>    <span class="textual-snippet code-snippet pharo-class-definition expandable-annotation-view collapsed-annotation-view"><code class="">Object subclass: #GtLudoGameExamples	instanceVariableNames: ''	classVariableNames: ''	package: 'GToolkit-Demo-Ludo-Examples'</code>    </span>.From the Examples view we can run all the tests.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Let's have a closer look at <code class="annotation annotation-label annotation-label-method annotation-label-code expandable-annotation-label annotation-sibling-is-collapsed">GtLudoGameExamples>>#playerAentersTokenA</code>    <span class="textual-snippet code-snippet pharo-method-snippet expandable-annotation-view collapsed-annotation-view"><code class="">playerAentersTokenA	"Setup for 2. Entering play when there is a token of the same player on the start square (ie after rolling a 6 twice)."	&lt;gtExample>	| game |	game := self playerArolls6.	game moveTokenNamed: 'A'.	self assert: (game positionOfTokenNamed: 'A') equals: 1.	self assert: game currentPlayer name equals: 'A'.	self assert: game playerToRoll.	self assert: game playerToMove not.	self assert: (game tokensToMove collect: #name) asSet equals: Set new.	^ game</code>    </span>.It's a simple scenario of a token entering the game after a 6 is rolled.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Note that we can inspect and interact with the example that results from the test, and we can use the example to build further tests.(We'll look more into this in a moment.)  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>If we open a second view of the same object — just click on the <code>(i)</code> (Inspect Object) button at the top right — we see that they stay in sync.You can interact both through the GUI or programatically and the views will stay in sync.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth"></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1025.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>- Inspect the game.- Show the Raw view, then the others.- OPT-click tio show the code.- From the Meta tab find the refences to <code>GtLudoGameExamples</code>- Explore <code>playerAentersAndLandsOnA</code> -- show how it composed.- Inspect the example and a second copy.- Evaluate the code: <code>game die roll: 5.</code> and <code>game moveTokenNamed: 'A'.</code>  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Changing a running system  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Since games may last a long time, an autoplay feature would be useful to exercise the game.We start by inspecting a live instance.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>We can interact with it programatically.    <i>(NB: Just evaluate the snippet instead of inspecting the result, to see the effect on the game.)    </i>  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>By exploring the     <i>testing    </i> protocol, we see that the methods <code class="annotation annotation-label annotation-label-method annotation-label-code expandable-annotation-label annotation-sibling-is-collapsed">GtLudoGame>>#playerToRoll</code>    <span class="textual-snippet code-snippet pharo-method-snippet expandable-annotation-view collapsed-annotation-view"><code class="">playerToRoll	self assert: self isOver not.	^  needToRollDie</code>    </span> and <code class="annotation annotation-label annotation-label-method annotation-label-code expandable-annotation-label annotation-sibling-is-collapsed">GtLudoGame>>#playerToMove</code>    <span class="textual-snippet code-snippet pharo-method-snippet expandable-annotation-view collapsed-annotation-view"><code class="">playerToMove	^ self playerToRoll not</code>    </span> tell us what should happen next.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Also <code class="annotation annotation-label annotation-label-method annotation-label-code expandable-annotation-label annotation-sibling-is-collapsed">GtLudoGame>>#tokensToMove</code>    <span class="textual-snippet code-snippet pharo-method-snippet expandable-annotation-view collapsed-annotation-view"><code class="">tokensToMove	&lt;todo: 'Check if these tokens can actually be played!'>	self isOver ifTrue: [ ^ Set new ].	self playerToRoll ifTrue: [ ^ Set new ].	self assert: self playerToMove.	self die topFace = 6 ifTrue: [ 		self currentPlayer startTokens notEmpty ifTrue: [ 			^ self currentPlayer startTokens asSet ] ].	"If we are close to the goal, but cannot reach it, what happens?"				^ self currentPlayer playTokens</code>    </span> computes the set of tokens that can possibly move next.   </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>We roll the die or move as required.We can extract this as an <code>autoplay</code> method.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>If we run the <code>autoPlay</code> method to the end, we get an error.We add a test to do nothing if the game is over.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1026.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>- Inspect the instance.- Introduce and execute the snippets.- Extract the autoplay method.- See that an error is raised at the end.- Add the line: <code>self isOver ifTrue: [ ^ self ].</code>  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Composing (Test) Examples  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>In GT, unit tests are written as     <i>example methods    </i>.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>An example method is just like an ordinary test method that we know from the Xunit frameworks, except that an example method     <i>returns an instance of the tested object    </i>.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>This is useful for many reasons, but mainly these two:  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>1. Instead of just ending with a passed (or failed) test,     <i>you have an object that you can inspect and explore.    </i>  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>2.     <i>The resulting example can be used as a starting point for composing further tests.    </i>  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>We see here a simple example method for the Ludo Game.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>It's an ordinary method, except that it uses the <code>gtExample</code> pragma (annotation), it has assertions, and     <i>it returns an example    </i>.If you <code>Play and inspect</code> the method, you will obtain the example to explore.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>If we browse the     <i>senders    </i> of the <code>emptyGame</code> method, we see it is used to  build another example.The <code>GtLudoGameExamples>>playerArolls6</code> method builds on the emptyGame example and exercises the scenario where player A rolls a 6.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>The tests cover all the special corner cases of the game. For example, what happens if a players rolls a 6 twice, and the second token lands on the square where there is already the first token?  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>We split this into two examples. The first sets up the situation where there is already a token for player A on the initial square.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>The next example starts from this one, and check what happens when the next token enters play.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>From the     <i>Examples    </i> tab of the <code>GtLudoGameExamples</code> class we can both run all the tests, and explore individual examples.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>If we select the     <i>Examples map    </i> view, we see that the test examples form a hierarchy built up from the emptyGame example.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1027.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>- Change some assertions to see what happens if they fail.- Browse the senders and explore <code>playerArolls6</code>- Browse senders of <code>playerArolls6</code> to find <code>playerAentersTokenA</code>- Again browse senders to find <code>playerAentersAndLandsOnTokenA</code>- Navigate to the class of the last method, and maximize the view to show the class coder- Show the <code>Examples</code> view to run the examples, and the <code>Examples map</code> to show the hierarchy  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Recording and visualizing token moves  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>A shortcoming of the game is that there is no history of the movement of the tokens.We only see snapshots of the board. If we could keep a history of the moves, then we could also visualize the actual transitions.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>We design <code class="annotation annotation-label annotation-label-class annotation-label-code expandable-annotation-label annotation-sibling-is-collapsed">GtLudoRecordingGame</code>    <span class="textual-snippet code-snippet pharo-class-definition expandable-annotation-view collapsed-annotation-view"><code class="">GtLudoGame subclass: #GtLudoRecordingGame	instanceVariableNames: 'moves'	classVariableNames: ''	package: 'GToolkit-Demo-Ludo-Model'</code>    </span> as a subclass of <code class="annotation annotation-label annotation-label-class annotation-label-code expandable-annotation-label annotation-sibling-is-collapsed">GtLudoGame</code>    <span class="textual-snippet code-snippet pharo-class-definition expandable-annotation-view collapsed-annotation-view"><code class="">Object subclass: #GtLudoGame	instanceVariableNames: 'players squares startSquares goalSquares die announcer feedback winner needToRollDie lastDieRolled playerQueue routeCache'	classVariableNames: ''	package: 'GToolkit-Demo-Ludo-Model'</code>    </span> that keeps a history of the moves.This compels us to turn the concept of a     <i>Move    </i> into a first-class object, an instance of <code class="annotation annotation-label annotation-label-class annotation-label-code expandable-annotation-label annotation-sibling-is-collapsed">GtLudoMove</code>    <span class="textual-snippet code-snippet pharo-class-definition expandable-annotation-view collapsed-annotation-view"><code class="">Object subclass: #GtLudoMove	instanceVariableNames: 'token roll tokenMoves player'	classVariableNames: ''	package: 'GToolkit-Demo-Ludo-Model'</code>    </span>. This class has the responsibility to track the actual move data (the die roll value, the token moved, and the list of tokens moved as a result).  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>We subclass our examples, so we now have recording versions of them all.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Let's inspect the <code class="annotation annotation-label annotation-label-method annotation-label-code expandable-annotation-label annotation-sibling-is-collapsed">GtLudoGameExamples>>#playerAovershootsGoal</code>    <span class="textual-snippet code-snippet pharo-method-snippet expandable-annotation-view collapsed-annotation-view"><code class="">playerAovershootsGoal	"Example for 8. Overshooting the goal sqares. (Fail to move.)"	&lt;gtExample>	| game |	game := self playerAarrivesCloseToGoal.	self assert: game currentPlayer name equals: 'A'.	self assert: (game positionOfTokenNamed: 'a') equals: 38.	game roll: 5.	game moveTokenNamed: 'a'.	self assert: (game tokenNamed: 'a') isInPlay.	self assert: (game positionOfTokenNamed: 'a') equals: 38.	^ game</code>    </span> example.Inspecting this still just shows a snapshot, but if we look at the     <i>Moves    </i> tab, have the history of the moves.More interesting, we can now visualize which tokens moved where by inspecting the individual Moves.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Note in particular the second move, which required two hops.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>We can now track all the moves that are played with the autoplay feature.Let's open up two side-side views of a new game, with the second one showing the list of moves.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Now that we have first-class Move objects, we have a complete history of a game.We can also     <i>replay    </i> all the moves up to a certain point, and go back in time to see the state of the game at any point.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1028.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>- Inspect the snippet- Go to the     <i>Moves    </i> view, and inspect individual moves- Inspect a new recording game, and open a second inspector to the     <i>Moves    </i> view- Evaluate <code>self autoPlay: 1.</code> in the playground to see the updates- Select a move and play the     <i>Replay to here    </i> action  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Live documentation of the game logic  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Notebooks (such as this one) can serve as live documentation for the logic of the game (i.e., the     <i>business domain    </i>) as well as for the technical solution.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Consider the example game <code class="annotation annotation-label annotation-label-method annotation-label-code expandable-annotation-label annotation-sibling-is-collapsed">GtLudoRecordingGameExamples>>#gameShowingAllMoves6</code>    <span class="textual-snippet code-snippet pharo-method-snippet expandable-annotation-view collapsed-annotation-view"><code class="">gameShowingAllMoves6	&lt;gtExample>	| game |	game := self gameShowingAllMoves5.	game		roll: 5;		moveTokenNamed: 'b'.	self assert: game moves last numberOfTokensMoved = 1.	self assert: game moves last tokenMoves first token name = 'b'.	self assert: game moves last tokenMoves first toSquare isGoal.	^ game</code>    </span>, which shows a short, complete game.The examples can then be embedded into the notebook to form live documentation of the different cases of moves.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1029.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Show and explore the impossible move.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h3> Live documentation of the technical solution  </h3></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>We can generate live diagrams from the source code.A UML diagram showing all the details is rather cluttered and nit so useful.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1030.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h4> Model classes  </h4></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>If we just focus on the model classes, we get a better view, but it still contains more details than are useful.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1031.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h4> Relationships between classes  </h4></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Instead a class diagram just showing the key inheritance and usage relationships gives us more insight into the design.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>A particular advantage is that such generated diagrams are live and integrated with the other tools.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1032.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Show that the diagram is live, and that we can navigate to the code and examples.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h2> Take home messages  </h2></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Summing up, Smalltalk is one of very few software systems which enables fully live programming, in which programming means changing a running system.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>We have also see how  live     <i>examples    </i> extend conventional unit tests to yield explorable objects that can not only  be composed to form hierarchies of tests, but they can also be used to form live documentation.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>Finally the ability to     <i>mold    </i> the development tools to the needs to the application being developed allows you create fully explorable and explainable applications.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1033.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <h2> What's next?  </h2></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>The Glamorous Toolkit is an open-source system that runs under Linux, Mac and Windows. All the examples we have seen, as well as this slideshow are part of the download.  </p></div><div class="snippet textual-snippet text-snippet paragraphWidth">  <p>There is also a lively community around Smalltalk, Pharo and GT. I encourage you to try it out and explore.  </p></div><figure class="snippet picture-snippet fullWidth"><img class="picture-snippet-image" src="gt-figures/1034.png"/></figure><div class="snippet textual-snippet text-snippet paragraphWidth"></div>

                <!-- page content end -->
            </main>
        </div>
    </div>

    <footer class="text-center py-5 le-footer">
        <p class="le-footer-credits">
            Powered by <a class="le-footer-link" href="https://lepiter.com">Lepiter</a> | <a class="le-footer-link" href="https://feenk.com/privacy">Privacy Policy</a>
        </p>
    </footer>

    <!-- scripts -->
    <script type="text/javascript" src="assets/vendor/jquery/js/jquery.js"></script>
    <script type="text/javascript" src="assets/vendor/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/v1/src/js/datefns.min.js"></script>
    <script type="text/javascript" src="assets/v1/src/js/highlight.pack.js"></script>
    <script type="text/javascript" src="assets/v1/src/js/lepiter-common.js"></script>
    <script type="text/javascript" src="assets/v1/src/js/lepiter-snippets.js"></script>
    <script type="text/javascript" src="assets/v1/src/js/lepiter-time.js"></script>
</body>
</html>